---
title: "CAMS: CAMS_GEARCODE_STRATA"
#author: "Ben Galuardi"
output:
  html_document: default
  github_document:
  pdf_document: default
always_allow_html: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(odbc)
library(ROracle)
library(dplyr, warn.conflicts = FALSE)

# unlock keyring
keyring::keyring_unlock("apsd_ma")

# local run
# dw_apsd <- config::get(value = "apsd", file = "K:/R_DEV/config.yml")

# if on server..
# dw_apsd <- config::get(value = "maps", file = "~/config.yml")


# connect to MAPS

con_maps = apsdFuns::roracle_login(key_name = 'apsd_ma', key_service = 'maps')

```


## Summary
This discard support table translates species VTR gear code to the CAMS gear code used for discard stratification based on gear stratification used in current stock assessments and quota monitoring.  Species specific gear stratifications have been agreed upon by a discards working group.

## Description

- **OUTPUT TABLE:** CAMS_GEARCODE_STRATA
- **YEARS:** N/A
- **RESOLUTION:** Gearcode translation from VTR gear code to cams_gear_group by species
- **DEVELOPMENT LANGUAGE:** N/A
- **CODE:** N/A


```{r table_flow0, echo=F,fig.height=3,fig.width=8, fig.cap="Figure 1.   CAMS_GEARCODE_STRATA table lineage"}
DiagrammeR::mermaid("
  graph LR
  CAMS_GEARCODE_STRATA --> GF_and_Non_GF_Discard_Modules
        ")
```

## Data Dictionary

```{r echo = F}
comments <- ROracle::dbGetQuery(bcon, "SELECT * FROM all_col_comments WHERE owner = 'MAPS' AND table_name = 'CAMS_GEARCODE_STRATA'")

comments %>%
dplyr::select(
COLUMN = COLUMN_NAME,
DESCRIPTION = COMMENTS) %>%
knitr::kable(booktabs = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", 
"hover", "condensed", "responsive"),full_width = FALSE,position = "left", fixed_thead = TRUE,
font_size = 10)
```

